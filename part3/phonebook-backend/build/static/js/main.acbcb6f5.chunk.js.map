{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","Person","removeDetails","persons","allPersons","console","log","length","map","person","name","number","onClick","id","PersonForm","newContact","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","delete","put","successStyle","color","background","font_size","border_style","border_radius","padding","margin_bottom","errorStyle","Notification","message","includes","style","className","App","useState","setPersons","setNewName","setNewNumber","filterChanges","setFilterChanges","setAllPersons","setMessage","useEffect","personService","initialPersons","findExistingUser","details","filter","toLowerCase","updateUser","find","updatePerson","window","confirm","returnedPerson","setTimeout","catch","error","addUser","info","concat","event","target","result","match","preventDefault","existingUser","filteredPerson","personName","personId","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.acbcb6f5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter =({newFilter,handleFilterChange})=>{\r\nreturn(\r\n    <div>\r\n    Filter by Name: <input value={newFilter} onChange={handleFilterChange} />\r\n    \r\n    </div>\r\n)\r\n\r\n}\r\nexport default Filter;","import React from 'react'\r\n\r\n\r\nconst Person =({removeDetails,persons,allPersons})=>{\r\nconsole.log('All Person',allPersons)\r\nif(persons.length !==0)\r\n{  \r\n  return(\r\n    <div>\r\n        <ul>\r\n          {persons.map(person => \r\n          <li key={person.id}>\r\n            {person.name}&nbsp;\r\n            {person.number}&nbsp;\r\n            <button onClick={()=>removeDetails(person.id,person.name)}>\r\n              delete\r\n            </button>\r\n          </li>\r\n          )}\r\n        </ul>\r\n    </div>\r\n  )\r\n}\r\nelse{\r\n  return(\r\n    <div>\r\n        \r\n        <ul>\r\n          {allPersons.map(person => \r\n          <li key={person.id}>\r\n            {person.name}&nbsp;\r\n            {person.number}&nbsp;\r\n            <button onClick={()=>removeDetails(person.id,person.name)}>\r\n              delete\r\n            </button>\r\n          </li>\r\n          )}\r\n        </ul>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n}\r\nexport default Person;","import React from 'react'\r\n\r\nconst PersonForm =({newContact,newName,newNumber,handleNameChange,handleNumberChange})=>\r\n{\r\n\r\nreturn(\r\n<div>\r\n    <form onSubmit={newContact}>\r\n          <div>Name: <input value={newName} onChange={handleNameChange} /></div>\r\n          <div>Number: <input value={newNumber} onChange={handleNumberChange}/></div>\r\n          <div><button type=\"submit\">Add Information</button></div>\r\n    </form>\r\n</div>\r\n\r\n)}\r\nexport default PersonForm;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl) //get(url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject) //post(url,data)\r\n    return request.then(response => response.data) //response is returned\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`) //delete(url)\r\n    return request.then(response => response.data) //response is returned\r\n  }\r\n\r\n\r\nexport default { getAll, create, remove, update}","const successStyle = {\r\n  color: 'green',\r\n  background: 'lightgrey',\r\n  font_size: 20,\r\n  border_style: 'solid',\r\n  border_radius: 5,\r\n  padding: 10,\r\n  margin_bottom: 10\r\n}\r\n\r\nconst errorStyle = {\r\n  color: 'red',\r\n  background: 'lightgrey',\r\n  font_size: 20,\r\n  border_style: 'solid',\r\n  border_radius: 5,\r\n  padding: 10,\r\n  margin_bottom: 10\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    if (message.includes('ERROR')){\r\n      return (\r\n        <div style={errorStyle} className=\"error\">\r\n          {message}\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div style={successStyle} className=\"error\">\r\n          {message}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\nexport default Notification","import React, { useState,useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Person from './components/Person'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('') \n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterChanges,setFilterChanges ]= useState('')\n  const [ allPersons,setAllPersons] = useState([])\n  const [ message,setMessage] = useState(null)\n  \n  useEffect(()=>{\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setAllPersons(initialPersons)\n    })\n  },[])\n\n  const handleFilterChange=(event)=>\n  {\n    setFilterChanges(event.target.value)\n    const result = allPersons.filter((person)=>\n    person.name.toLowerCase().match(event.target.value.toLowerCase()))\n    setPersons(result)\n  }\n\n  const handleNameChange=(event)=>\n  {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange=(event)=>\n  {\n  setNewNumber(event.target.value)\n  }\n\n  const newContact=(event)=>\n  {\n    event.preventDefault()\n\n    const details={\n      name:newName,\n      number:newNumber\n    }\n    const existingUser = findExistingUser(details)\n    if(existingUser.length!== 0)\n    {\n      updateUser(existingUser[0].id) \n    }\n    else\n    {\n      addUser(details)\n    }\n  \n    setNewName('')\n    setNewNumber('')\n      \n    \n  }\n  const findExistingUser=(details)=>\n  {\n    const existingUser=allPersons.filter((person)=>\n    person.name.toLowerCase()===newName.toLowerCase())\n    return(\n      existingUser\n    )\n  }\n   \n  const updateUser =(id)=>\n  {\n    const person = allPersons.find(person =>person.id === id)\n    const updatePerson ={...person,number:newNumber}\n    if(window.confirm(`${newName} is already added to phonebook,replace the old number with a new one`))\n    {\n      personService\n      .update(id,updatePerson)\n      .then(returnedPerson=>{\n        setAllPersons(allPersons.map(person => person.id !==id ? person : returnedPerson))\n        setMessage(`${updatePerson.name} was successfully updated`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch((error) => {\n        console.log(error)\n        setAllPersons(allPersons.filter(person => person.id !== updatePerson.id))\n        setMessage(\n          `[ERROR] ${updatePerson.name} was already deleted from server`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n\n    }\n  }\n\n  const addUser =(info)=>\n  {\n    personService\n      .create(info)\n      .then(returnedPerson => {\n      setAllPersons(allPersons.concat(returnedPerson))\n      setMessage(\n      `${newName} was successfully added`\n      )\n      setTimeout(() => {\n      setMessage(null)\n      }, 5000)\n      })\n      .catch(error => {\n        setMessage(\n          `[ERROR] ${error.response.data.error}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        console.log(error.response.data)\n      })\n\n  }\n\n  const removeDetails =(id)=>{\n    const filteredPerson = allPersons.filter(person => person.id === id)\n    const personName = filteredPerson[0].name\n    const personId = filteredPerson[0].id\n    if (window.confirm(`Delete ${personName} ?`)) {\n      personService\n      .remove(personId)\n      .then(()=>{\n        setAllPersons(allPersons.filter(person => person.id !== personId))\n        setPersons(persons.filter(person => person.id !== personId))\n        setMessage(\n          `${personName} was successfully deleted`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      .catch((error) => {\n        console.log(error)\n        setAllPersons(allPersons.filter(person => person.id !== personId))\n        setPersons(persons.filter(person => person.id !== personId))\n        setMessage(\n          `[ERROR] ${personName} was already deleted from server`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n      \n      \n    }\n  }\n\n\n\nreturn(\n  <div>\n    <h1>PhoneBook</h1>\n\n    <Notification message={message} />\n\n    <h2>Search Contact</h2>\n    <Filter \n    filterChanges={filterChanges} \n    handleFilterChange={handleFilterChange} \n    />\n\n    <h2>Add new Contact</h2>\n    <PersonForm\n      newContact={newContact}\n      newName={newName}\n      newNumber={newNumber}\n      handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange}\n    />\n    <h2>Contacts</h2>\n    <Person\n    persons={persons}\n    allPersons={allPersons}\n    removeDetails={removeDetails}\n    />\n\n  </div>\n)\n}\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  \n  document.getElementById('root')\n);\n"],"sourceRoot":""}